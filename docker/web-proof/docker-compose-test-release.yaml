services:
  anvil:
    build:
      dockerfile: ../anvil/Dockerfile
    platform: linux/amd64
    ports:
      - "8545:8545"
  vlayer:
    image: ghcr.io/vlayer-xyz/vlayer:latest
    pull_policy: always
    command: "serve --proof fake --host 0.0.0.0 --rpc-url 31337:http://anvil:8545 --rpc-url 1:https://thrumming-burned-butterfly.quiknode.pro/${QUICKNODE_API_KEY} --rpc-url 31337:http://anvil:8545 --rpc-url 8453:https://thrumming-burned-butterfly.base-mainnet.quiknode.pro/${QUICKNODE_API_KEY} --rpc-url 10:https://thrumming-burned-butterfly.optimism.quiknode.pro/${QUICKNODE_API_KEY}"
    ports:
      - "3000:3000"
